<!-- <p>post-api works!</p> -->
<div class="row">
  <div class="col-8 text-center">
    <h2>Post API Integration using Template Form</h2>
  </div>
  <!-- This click event is not required for the ngOnInit life cycle as on the page load ngOninit will laod the data without the click event -->
  <!-- <div class="col-4">
    <button class="btn btn-success" (click)="getCars()">
      Load Cars
    </button>
  </div> -->
</div>
<div class="row p-2">
  <div class="col-12">
    <app-tabs [tabList]="['carlist', 'NewCarForm']"   (onTabClicked)="onTabChange($event)"></app-tabs>
  </div>
</div>
--{{currentTab}}
<div class="row pt-2">
  @if (currentTab == 'carList') {
    <div class="col-12">
      <div class="card">
        <div class="card-header bg-warning">
          <h5>Car List</h5>
        </div>
        <div class="card-body">
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Sr.No</th>
                <th>Brand</th>
                <th>Model</th>
                <th>Reg No</th>
                <th>Daily Rate</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              @for (item of carList; track $index) {
                <tr>
                  <td>{{$index+1}}</td>
                  <td>{{item.brand}}</td>
                  <td>{{item.model}}</td>
                  <td>{{item.regNo}}</td>
                  <td>{{item.dailyRate}}</td>
                  <td>
                    <button class="btn btn-success" (click)="onEdit(item)">Edit</button>
                    <button class="btn btn-danger" (click)="onDelete(item.carId)">Delete</button>
                  </td>
                </tr>
              }
            </tbody>
          </table>
        </div>
      </div>
    </div>
  } @else {
  
    <div class="col-12">
      <div class="card">
        <div class="card-header bg-warning">
          <h5>Create New Car</h5>
        </div>
        <div class="card-body">
          <!-- Here wherever we are having [(ngModel)]="carObj." we need to replace that with ngModel -->
           <!-- Whatever the field we got from the api we need to bind -->
          <div class="row">
            <div class="col-6 mt-2">
              <label>Reg No</label>
              <input type="text" [(ngModel)]="carObj.regNo"  placeholder="Enter Car Image URL">
            </div>
            <div class="col-6 mt-2">
              <label>Brand </label>
              <input type="text" [(ngModel)]="carObj.brand" placeholder="Enter Brand Name">
            </div>
            <div class="col-6 mt-2">
              <label>Model</label>
              <input type="text" [(ngModel)]="carObj.model" placeholder="Enter Model Name">
            </div>
            <div class="col-6 mt-2">
              <label>Year </label>
              <input type="text" [(ngModel)]="carObj.year" placeholder="Enter Year">
            </div>
            <div class="col-6 mt-2">
              <label>Color </label>
              <input type="text" [(ngModel)]="carObj.color" placeholder="Enter Color Name">
            </div>
            <div class="col-6 mt-2">
              <label>Daily Rate </label>
              <input type="text" [(ngModel)]="carObj.dailyRate" placeholder="Enter Daily Rate">
            </div>
            <div class="col-6 mt-2">
              <label>Car Image URL</label>
              <input type="text" [(ngModel)]="carObj.carImage" placeholder="Enter Car Image URL"> 
            </div>
          </div>
          <div class="row">
            <div class="col-12 mt-2 text-center">
              <button class="btn btn-secondary m-2">Reset Form</button>
              --{{carObj.carId}}
              @if (carObj.carId == 0) {
                <button class="btn btn-success m-2" (click)="onSaveCar()">Save Car</button>
              }
             @else {
              <button class="btn btn-warning m-2" (click)="updateCar()">Update Car</button>
             }
             
            </div>
          </div>
        </div>
      </div>
    </div>
  }
  
  